local function runProximityAndTeleport()
    local trophy = workspace:WaitForChild("Trophy")
    local proxHold = trophy:WaitForChild("ProxHold")
    local prompt = proxHold:WaitForChild("ProximityPrompt")

    local player = game.Players.LocalPlayer
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")

    -- Move player to prompt position
    hrp.CFrame = proxHold.CFrame -- slightly above prompt to avoid clipping

    wait(5)

    local success, result = pcall(function()
        fireproximityprompt(prompt, 1, Enum.KeyCode.E, player)
    end)

    if success then
        print("ProximityPrompt fired successfully.")
        wait(1)
        --game:GetService("TeleportService"):Teleport(game.PlaceId, player)
    else
        warn("Failed to fire ProximityPrompt:", result)
    end
end

local scriptSource = [[
local function runProximityAndTeleport()
    local trophy = workspace:WaitForChild("Trophy")
    local proxHold = trophy:WaitForChild("ProxHold")
    local prompt = proxHold:WaitForChild("ProximityPrompt")

    local player = game.Players.LocalPlayer
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")

    hrp.CFrame = proxHold.CFrame

    wait(1)

    local success, result = pcall(function()
        fireproximityprompt(prompt, 1, Enum.KeyCode.E, player)
    end)

    if success then
        print("ProximityPrompt fired successfully.")
        wait(1)
        game:GetService("TeleportService"):Teleport(game.PlaceId, player)
    else
        warn("Failed to fire ProximityPrompt:", result)
    end
end

runProximityAndTeleport()
]]

if syn and syn.queue_on_teleport then
    syn.queue_on_teleport(scriptSource)
elseif queue_on_teleport then
    queue_on_teleport(scriptSource)
else
    warn("Your executor does not support queue_on_teleport.")
end

runProximityAndTeleport()
